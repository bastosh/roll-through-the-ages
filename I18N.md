# Internationalisation (i18n)

Ce projet supporte plusieurs langues grÃ¢ce Ã  **react-i18next**.

## Langues disponibles

- ðŸ‡«ðŸ‡· **FranÃ§ais** (par dÃ©faut)
- ðŸ‡¬ðŸ‡§ **Anglais**

## Utilisation

### Pour l'utilisateur

Un sÃ©lecteur de langue (FR/EN) est disponible en haut Ã  gauche de l'Ã©cran de configuration. Le changement de langue est instantanÃ© et persiste dans le navigateur.

### Pour les dÃ©veloppeurs

#### Structure des fichiers

```
src/
â”œâ”€â”€ i18n/
â”‚   â”œâ”€â”€ config.js                 # Configuration i18next
â”‚   â””â”€â”€ locales/
â”‚       â”œâ”€â”€ fr.json              # Traductions franÃ§aises
â”‚       â””â”€â”€ en.json              # Traductions anglaises
â””â”€â”€ constants/
    â””â”€â”€ variants/
        â””â”€â”€ variantTranslations.js  # Helpers pour traduire monuments/dÃ©veloppements
```

#### Utiliser les traductions dans un composant

```jsx
import { useTranslation } from 'react-i18next';

export default function MyComponent() {
  const { t } = useTranslation();

  return (
    <div>
      <h1>{t('common.configuration')}</h1>
      <button>{t('setup.startGameButton')}</button>
    </div>
  );
}
```

#### Interpolation de variables

```jsx
// Dans fr.json
{
  "setup.deletePlayerConfirm": "Supprimer le joueur \"{{name}}\" de l'historique ?"
}

// Dans le composant
t('setup.deletePlayerConfirm', { name: playerName })
```

#### Ajouter une nouvelle traduction

1. Ajouter la clÃ© dans `src/i18n/locales/fr.json`
2. Ajouter la traduction anglaise dans `src/i18n/locales/en.json`
3. Utiliser `t('votre.cle')` dans le composant

#### Structure des clÃ©s de traduction

- `common.*` - Textes communs (boutons, labels gÃ©nÃ©riques)
- `setup.*` - Ã‰cran de configuration
- `variants.*` - Noms des variantes
- `monuments.*` - Noms des monuments
- `monumentEffects.*` - Effets des monuments
- `developments.*` - Noms des dÃ©veloppements
- `developmentEffects.*` - Effets des dÃ©veloppements
- `goods.*` - Noms des ressources
- `phases.*` - Noms des phases de jeu
- `dice.*` - Interface des dÃ©s
- `actions.*` - Boutons d'action
- `disasters.*` - DÃ©sastres
- `game.*` - Interface de jeu

## Ajouter une nouvelle langue

1. CrÃ©er un nouveau fichier JSON dans `src/i18n/locales/` (ex: `es.json`)
2. Copier la structure de `fr.json` ou `en.json`
3. Traduire toutes les clÃ©s
4. Importer et ajouter dans `src/i18n/config.js`:

```js
import es from './locales/es.json';

i18n.use(initReactI18next).init({
  resources: {
    fr: { translation: fr },
    en: { translation: en },
    es: { translation: es }  // Nouvelle langue
  },
  // ...
});
```

5. Ajouter un bouton dans `LanguageSelector.jsx`

## FonctionnalitÃ©s avancÃ©es

### Traduction dynamique des variantes

Les monuments et dÃ©veloppements utilisent un systÃ¨me de traduction dynamique avec des getters :

```js
// Dans bronzeAge.js
get monuments() {
  return getTranslatedMonuments(BASE_MONUMENTS);
}
```

Cela permet de recalculer automatiquement les traductions quand la langue change.

### DÃ©tection automatique de la langue

Par dÃ©faut, le jeu charge en franÃ§ais. Pour dÃ©tecter automatiquement la langue du navigateur :

```js
// Dans src/i18n/config.js
lng: navigator.language.startsWith('en') ? 'en' : 'fr',
```

### Persistance de la langue

Pour sauvegarder la langue choisie dans localStorage, ajouter dans `config.js` :

```js
import LanguageDetector from 'i18next-browser-languagedetector';

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    // ...
  });
```
